<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Auth Portal</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; font-family: 'Poppins', sans-serif; transition: background 0.3s, color 0.3s; }

    body {
      background: linear-gradient(135deg, #0f172a, #020617);
      color: #e5e7eb;
      display:flex;
      justify-content:center;
      align-items:center;
      height:100vh;
    }

    .auth-card {
      background: #020617;
      color: #e5e7eb;
      width: 360px;
      max-width: 95%;
      padding: 40px 30px;
      border-radius: 16px;
      box-shadow: 0 25px 60px rgba(0,0,0,.6);
      animation: fadeIn 0.8s ease;
    }

    @keyframes fadeIn {
      from {opacity:0; transform:translateY(20px);}
      to {opacity:1; transform:translateY(0);}
    }

    h2 { text-align:center; margin-bottom:6px; }
    p { text-align:center; font-size:13px; opacity:0.75; margin-bottom:25px; }

    input {
      width:100%;
      padding:12px;
      margin:10px 0;
      border-radius:10px;
      border:none;
      outline:none;
      background: rgba(255,255,255,0.08);
      color: inherit;
    }

    button {
      width:100%;
      padding:12px;
      margin-top:12px;
      border-radius:10px;
      border:none;
      background: linear-gradient(90deg,#38bdf8,#2563eb);
      color:#fff;
      font-weight:600;
      cursor:pointer;
    }

    .divider {
      text-align:center;
      margin:20px 0;
      font-size:12px;
      opacity:.6;
    }

    /* SOCIAL ICONS */
    .social {
      display:flex;
      justify-content:space-between;
      gap:12px;
    }

    .social button {
      flex:1;
      background: rgba(255,255,255,0.08);
      padding:10px;
      border-radius:10px;
      border:none;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .social button img {
      width:22px;
      height:22px;
    }

    .social button:hover {
      background:#38bdf8;
    }

    .footer {
      text-align:center;
      margin-top:22px;
      font-size:13px;
      cursor:pointer;
      color:#38bdf8;
    }
  </style>
</head>

<body>

<div class="auth-card">
  <h2 id="authTitle">Sign In</h2>
  <p id="authDesc">Welcome back. Please login to continue.</p>

  <input type="email" placeholder="Email address" id="emailInput" />
  <input type="password" placeholder="Password" id="passwordInput" />
  <input type="text" placeholder="Username" id="usernameInput" style="display:none;" />

  <button id="authButton">Sign In</button>

  <div class="divider">or continue with</div>

  <!-- SOCIAL ICONS -->
  <div class="social">
    <button title="Google">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/google/google-original.svg" />
    </button>

    <button title="Facebook">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/facebook/facebook-original.svg" />
    </button>

    <button title="LinkedIn"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/linkedin/linkedin-original.svg" alt="LinkedIn" /></button>

    <button title="GitHub">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" />
    </button>
  </div>

  <div class="footer" id="toggleAuth">Create new account</div>
</div>

<script>
let isSignUp = false;

toggleAuth.onclick = () => {
  isSignUp = !isSignUp;
  authTitle.innerText = isSignUp ? "Sign Up" : "Sign In";
  authDesc.innerText = isSignUp
    ? "Create a new account to continue."
    : "Welcome back. Please login to continue.";
  authButton.innerText = isSignUp ? "Sign Up" : "Sign In";
  toggleAuth.innerText = isSignUp
    ? "Already have an account? Sign In"
    : "Create new account";
  usernameInput.style.display = isSignUp ? "block" : "none";
};

authButton.onclick = async () => {
  const payload = isSignUp
    ? { email: emailInput.value, password: passwordInput.value, username: usernameInput.value }
    : { email: emailInput.value, password: passwordInput.value };

  const url = isSignUp ? "/signup" : "/login";

  const res = await fetch(url, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(payload)
  });

  const data = await res.json();
  res.ok ? alert(data.message) : alert(data.error);
};
</script>

</body>
</html>
